.\" Automatically generated by Pod::Man 2.25 (Pod::Simple 3.16)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "SDHASH 1"
.TH SDHASH 1 "2013-07-16" "" ""
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
sdhash \- tool for generating and comparing similarity digests
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBsdhash\fR [options] [mode] <files>
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBsdhash\fR is a tool for generating, comparing, and searching similarity digest 
hashes.  When comparing these hashes, it gives a confidence level as to how similar
two objects are to each other.
.PP
\&\fBsdhash\fR uses parallel processing to efficiently process large quantities of data
and provides options for sampling to speed up queries.
.PP
\&\fBsdhash\fR has three modes: generation, comparison, and index searching.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
\&\fBsdhash\fR file1 file2 file3...
.PP
Generation mode produces digests for the files given on the command line.
.PP
\&\fBsdhash\fR \-\-compare set1.sdbf set2.sdbf
.PP
In comparison mode the contents of two sets of sdbf digests are compared
to produce a confidence score between \-1 and 100.
.PP
\&\fBsdhash\fR \-\-index\-search=references/ file1 file2 file3
.PP
Searching a reference set gives how many features in the hashed files
have matches in the digest indexes.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-\-verbose\fR" 4
.IX Item "--verbose"
Displays (lots of) helpful output on every stage of the hashing process.
.IP "\fB\-f\fR, \fB\-\-target\-list\fR <filelist.txt>" 4
.IX Item "-f, --target-list <filelist.txt>"
Reads list of files to be hashed from given file.  File should be unix formatted 
with one filename per line.
.IP "\fB\-\fR" 4
.IX Item "-"
Reads input to be hashed from stdin.  By default uses 16kb blocks and supports
threading.
.IP "\fB\-r\fR, \fB\-\-deep\fR" 4
.IX Item "-r, --deep"
Searches any directories given at the command line for files to hash, recursively.
.IP "\fB\-o\fR, \fB\-\-output\fR <filename>" 4
.IX Item "-o, --output <filename>"
When creating hashes or comparing, sends output to named sdbf files and indexes.
.IP "\fB\-b\fR, \fB\-\-block\-size\fR <N>" 4
.IX Item "-b, --block-size <N>"
Configures block mode during hash generation.  To disable block mode, use \-b 0. 
Block mode is turned on for any files larger than 16MB, using 16KB blocks.
We suggest using \-b 4 for memory dumps in 4KB blocks.
.IP "\fB\-p\fR, \fB\-\-thread\-count\fR <N>" 4
.IX Item "-p, --thread-count <N>"
Use N threads.  By default sdhash uses all available cores/threads
on the local machine.  This may be used to dial back the multithreading.
.IP "\fB\-t\fR, \fB\-\-threshold\fR <\-1\-100>" 4
.IX Item "-t, --threshold <-1-100>"
Sets a confidence threshold for comparisions.  Use this to filter results
to reduce false positives.  Used with comparison and query modes. 
Use '\-1' to display all comparisons.
.RS 4
.Sp
.RS 4
\&\fBsdhash\fR \fB\-\-threshold\fR 10 \fB\-\-compare\fR output.sdbf
.Sp
\&\fBsdhash\fR \fB\-\-threshold\fR '\-1' \fB\-\-compare\fR output.sdbf
.RE
.RE
.RS 4
.RE
.IP "\fB\-s\fR, \fB\-\-sample\-size\fR <1\-16>" 4
.IX Item "-s, --sample-size <1-16>"
Uses a sampling of filters to perform queries, which speeds up
query results significantly.  Used for query-mode only.
.IP "\fB\-z\fR, \fB\-\-segment\-size\fR <\s-1NNN\s0>" 4
.IX Item "-z, --segment-size <NNN>"
Sets the default segment-size in \s-1MB\s0 to split files/streams into prior to hashing.  
Default is 128MB chunks.  Disable segmentation by passing 0 as the argument.
.IP "\fB\-\-separator\fR <pipe|csv|tab>" 4
.IX Item "--separator <pipe|csv|tab>"
Changes the output separator for comparisons.  Default separators is pipe, csv and tab are also supported.
.IP "\fB\-\-hash\-name\fR <some name>" 4
.IX Item "--hash-name <some name>"
Sets the hash name when hashing from stdin.
.IP "\fB\-\-validate\fR <files>" 4
.IX Item "--validate <files>"
Checks if the given sdbf files are valid.
.IP "\fB\-\-config\fR <sdhash.cfg>" 4
.IX Item "--config <sdhash.cfg>"
Reads options from configuration file.  Any option from the usage statement
can be set in the configuration file.
.IP "\fBsdhash.cfg\fR" 4
.IX Item "sdhash.cfg"
Options to sdhash may be saved in sdhash.cfg in the format of long\-option=value.
.Sp
For example:
.RS 4
.Sp
.Vb 4
\&        block\-size=16
\&        sample\-size=4
\&        thread\-count=4
\&        threshold=10
.Ve
.RE
.RS 4
.RE
.IP "\fB\s-1GENERATION\s0\fR" 4
.IX Item "GENERATION"
\&\fBdefault\fR <files>
.Sp
The default mode is generation mode, and will generate similiarity digests of 
all files given to it on the command line, all files in the list of filenames passed with the
\&\fB\-f\fR argument, or input from stdin with the \fB\-\fR argument. The results are displayed to stdout so that they may be directed to a file for loading into comparisions.
.RS 4
.Sp
.RS 4
\&\fBsdhash\fR [options] file1 file2 file4 foo*
.RE
.RE
.RS 4
.Sp
Using \-b will generate block-based hash digests which are useful for processing disk images and memory dumps.
\&\fBsdhash\fR automatically generates block-based hash digests for files >=16MB.
.Sp
.RS 4
\&\fBsdhash\fR \fB\-\-block\-size\fR 16 image.dd
.RE
.RE
.RS 4
.RE
.IP "\fB\-g\fR, \fB\-\-gen\-compare\fR <files>" 4
.IX Item "-g, --gen-compare <files>"
This mode generates digests for all files given, and compares them each with all of the others.  It does not save the hashes to disk.
.RS 4
.Sp
.RS 4
\&\fBsdhash\fR [options] \fB\-g\fR file1 file2 file3
.RE
.RE
.RS 4
.RE
.IP "\fB\s-1COMPARISON\s0\fR" 4
.IX Item "COMPARISON"
.PD 0
.IP "\fB\-c\fR, \fB\-\-compare\fR <file.sdbf>" 4
.IX Item "-c, --compare <file.sdbf>"
.PD
Comparison mode loads a file of digests which was created by capturing the output
of generation mode.  It then compares each digest to all other digests in the loaded
file.
.RS 4
.Sp
.RS 4
\&\fBsdhash\fR \fB\-\-compare\fR hashes.sdbf
.RE
.RE
.RS 4
.RE
.IP "\fB\-c\fR, \fB\-\-compare\fR <query.sdbf> <target.sdbf>" 4
.IX Item "-c, --compare <query.sdbf> <target.sdbf>"
Compare also will load two files of digests, optionally sampling the \*(L"query\*(R" with the \fB\-s\fR 
option, and compares each digest in the query to each digest in the target.
.RS 4
.Sp
.RS 4
\&\fBsdhash\fR \fB\-\-compare\fR query.sdbf target.sdbf
.Sp
\&\fBsdhash\fR \fB\-\-sample\-size\fR 4 \fB\-\-query\fR query.sdbf target.sdbf
.RE
.RE
.RS 4
.RE
.IP "\fB\s-1SEARCHING\s0\fR" 4
.IX Item "SEARCHING"
The following set of options is for using the \fBsdhash\fR searching functionality.
\&\fBsdhash\fR can generate a reference set upon first hashing which can be used
to test for the presence of reference data in other sources.  Searching indexes does not generate digests to be saved.
.IP "\fB\-\-index\fR" 4
.IX Item "--index"
Generate a reference set with indexes while hashing.  Can be used with
\&\fB\-\-output\fR option only.  This option will split reference data into 640mb
chunks in the process.
.RS 4
.Sp
.RS 4
\&\fBsdhash\fR \fB\-\-index\fR \fB\-\-deep\fR directory \fB\-\-output\fR outputdir/name
.RE
.RE
.RS 4
.RE
.IP "\fB\-\-index\-search\fR <directory>" 4
.IX Item "--index-search <directory>"
Sets the location of the reference set and indexes for index-searching.
Searches indexes and returns matches at the set-level.
.SH "AUTHORS"
.IX Header "AUTHORS"
\&\fBsdhash\fR was written by Vassil Roussev <vassil@roussev.net> and Candice Quates <candice@egobsd.org>. http://sdhash.org/
.SH "LICENSE"
.IX Header "LICENSE"
\&\fBsdhash\fR is distributed under the Apache License v2.0
